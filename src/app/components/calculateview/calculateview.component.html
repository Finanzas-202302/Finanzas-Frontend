<app-toolbar></app-toolbar>
<div class="main">
    <div class="content">
        <mat-card class="new-credit-card">
            <mat-card-header>
                <mat-card-title>Nuevo crédito</mat-card-title>
            </mat-card-header>
            <mat-card-content class="card-content">
                <div class="form-category">
                    <span>Paso 1: Compra inteligente</span>
                </div>
                <div [formGroup]="creditForm" class="form-group">
                    <div class="form-column">
                        <mat-form-field>
                            <mat-label>Busque a su cliente</mat-label>
                            <mat-select [formControl]="clientControl" required>
                                <mat-option *ngFor="let client of filteredClients | async" [value]="client.id">
                                    {{ client.firstname }} {{ client.lastname }}
                                  </mat-option>
                            </mat-select>
                        </mat-form-field>
                        <mat-form-field>
                            <mat-label>% Cuota inicial</mat-label>
                            <input type="number" matInput formControlName="cuota_inicial_percentage" required />
                        </mat-form-field>
                        <mat-form-field>
                            <mat-label>Ingresa el precio del vehiculo</mat-label>
                            <input type="number" matInput formControlName="cost_vehicle" required />
                        </mat-form-field>
                        <mat-form-field>
                            <mat-label>Ingresa la tasa de interés (sin %)</mat-label>
                            <input type="number" matInput formControlName="interest_rate_percentage" required />
                        </mat-form-field>
                        <mat-form-field>
                            <mat-label>Elige el tipo de periodo de gracia</mat-label>
                            <mat-select formControlName="type_grace_period" required>
                                <mat-option value="parcial">Parcial</mat-option>
                                <mat-option value="total">Total</mat-option>
                                <mat-option value="sin periodo de gracia">Sin periodo de gracia</mat-option>
                            </mat-select>
                        </mat-form-field>
                        <mat-form-field>
                            <mat-label>Ingrese los costos notariales</mat-label>
                            <input type="number" matInput formControlName="costos_notariales" />
                        </mat-form-field>
                        <mat-form-field>
                            <mat-label>¿Cómo pagar?</mat-label>
                            <mat-select formControlName="costos_notariales_bool">
                                <mat-option value="true">Financiar</mat-option>
                                <mat-option value="false">En efectivo</mat-option>
                            </mat-select>
                        </mat-form-field>
                        <mat-form-field>
                            <mat-label>Ingrese los estudio de títulos</mat-label>
                            <input type="number" matInput formControlName="estudio_de_titulos" />
                        </mat-form-field>
                        <mat-form-field>
                            <mat-label>¿Cómo pagar?</mat-label>
                            <mat-select formControlName="estudio_de_titulos_bool">
                                <mat-option value="true">Financiar</mat-option>
                                <mat-option value="false">En efectivo</mat-option>
                            </mat-select>
                        </mat-form-field>
                        <mat-form-field>
                            <mat-label>Ingrese la comisión</mat-label>
                            <input type="number" matInput formControlName="comision" />
                        </mat-form-field>
                        <mat-form-field>
                            <mat-label>Ingrese la seguridad</mat-label>
                            <input type="number" matInput formControlName="seguridad" />
                        </mat-form-field>
                    </div>
                    <div class="form-column">
                        <mat-form-field>
                            <mat-label>Ingresa el tipo de moneda</mat-label>
                            <mat-select formControlName="coin" required>
                                <mat-option value="soles">Soles (S/.)</mat-option>
                                <mat-option value="dollars">Dólares ($)</mat-option>
                            </mat-select>
                        </mat-form-field>
                        <mat-form-field>
                            <mat-label>% Cuota a financiar</mat-label>
                            <input type="number" matInput formControlName="credit_percentage" required />
                        </mat-form-field>
                        <mat-form-field>
                            <mat-label>Elige el tipo de tasa de interés</mat-label>
                            <mat-select formControlName="interest_rate" required>
                                <mat-option value="nominal">Nominal</mat-option>
                                <mat-option value="efectiva">Efectiva</mat-option>
                            </mat-select>
                        </mat-form-field>
                        <mat-form-field>
                            <mat-label>Ingresa la tasa de seguro desgravamen</mat-label>
                            <input type="number" matInput formControlName="seguro_desgravamen" required />
                        </mat-form-field>
                        <mat-form-field>
                            <mat-label>Ingresa el periodo de gracia</mat-label>
                            <input type="number" matInput formControlName="grace_period" required />
                        </mat-form-field>
                        <mat-form-field>
                            <mat-label>Ingrese los costos registrales</mat-label>
                            <input type="number" matInput formControlName="costos_registrales" />
                        </mat-form-field>
                        <mat-form-field>
                            <mat-label>¿Cómo pagar?</mat-label>
                            <mat-select formControlName="costos_registrales_bool">
                                <mat-option value="true">Financiar</mat-option>
                                <mat-option value="false">En efectivo</mat-option>
                            </mat-select>
                        </mat-form-field>
                        <mat-form-field>
                            <mat-label>Ingrese otros costos</mat-label>
                            <input type="number" matInput formControlName="otros_costes" />
                        </mat-form-field>
                        <mat-form-field>
                            <mat-label>¿Cómo pagar?</mat-label>
                            <mat-select formControlName="otros_costes_bool">
                                <mat-option value="true">Financiar</mat-option>
                                <mat-option value="false">En efectivo</mat-option>
                            </mat-select>
                        </mat-form-field>
                        <mat-form-field>
                            <mat-label>Ingrese la penalidad</mat-label>
                            <input type="number" matInput formControlName="penalidad" />
                        </mat-form-field>
                        <mat-form-field>
                            <mat-label>Ingrese otros gastos periodicos</mat-label>
                            <input type="number" matInput formControlName="otros" />
                        </mat-form-field>
                    </div>
                    <div class="form-column">
                        <mat-form-field>
                            <mat-label>Ingresa el número de cuotas</mat-label>
                            <input type="number" matInput formControlName="term_of_loan" required />
                        </mat-form-field>
                        <mat-form-field>
                            <mat-label>% Cuota final</mat-label>
                            <input type="number" matInput formControlName="vfmg_percentage" required />
                        </mat-form-field>
                        <mat-form-field>
                            <mat-label>Elige el plazo de la tasa</mat-label>
                            <mat-select formControlName="plazo_tasa_interes" required>
                                <mat-option value="mensual">Mensual</mat-option>
                                <mat-option value="bimestral">Bimestral</mat-option>
                                <mat-option value="trimestral">Trimestral</mat-option>
                                <mat-option value="cuatrimestral">Cuatrimestral</mat-option>
                                <mat-option value="semestral">Semestral</mat-option>
                                <mat-option value="anual">Anual</mat-option>
                            </mat-select>
                        </mat-form-field>
                        <mat-form-field>
                            <mat-label>P. de capitalización (NOMINAL)</mat-label>
                            <mat-select formControlName="periodo_de_capitalizacion" required>
                                <mat-option value="mensual">Mensual</mat-option>
                                <mat-option value="bimestral">Bimestral</mat-option>
                                <mat-option value="trimestral">Trimestral</mat-option>
                                <mat-option value="cuatrimestral">Cuatrimestral</mat-option>
                                <mat-option value="semestral">Semestral</mat-option>
                                <mat-option value="anual">Anual</mat-option>
                            </mat-select>
                        </mat-form-field>
                        <mat-form-field>
                            <mat-label>Ingrese la tasacion</mat-label>
                            <input type="number" matInput formControlName="tasacion" />
                        </mat-form-field>
                        <mat-form-field>
                            <mat-label>¿Cómo pagar?</mat-label>
                            <mat-select formControlName="tasacion_bool">
                                <mat-option value="true">Financiar</mat-option>
                                <mat-option value="false">En efectivo</mat-option>
                            </mat-select>
                        </mat-form-field>
                        <mat-form-field>
                            <mat-label>Ingrese los portes</mat-label>
                            <input type="number" matInput formControlName="portes" />
                        </mat-form-field>
                        <mat-form-field>
                            <mat-label>Ingrese los gastos administrativos</mat-label>
                            <input type="number" matInput formControlName="gastos_administrativos" />
                        </mat-form-field>
                        <mat-form-field>
                            <mat-label>Ingrese la comunicacion</mat-label>
                            <input type="number" matInput formControlName="comunicacion" />
                        </mat-form-field>
                        <mat-form-field>
                            <mat-label>% de COK</mat-label>
                            <input type="number" matInput formControlName="cok" />
                        </mat-form-field>
                    </div>
                </div>
            </mat-card-content>
        </mat-card>
    </div>
    <button
      class="confirm-button"
      mat-raised-button
      color="accent"
    (click)="submitCreditForm()"
      routerLink="/results"
    >
      Crear crédito
    </button>
    <a class="cancel-button" mat-raised-button color="warn" routerLink="/clients"
      >Cancelar</a
    >
</div>
